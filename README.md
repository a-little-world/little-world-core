## Little World Backend V2

The backend for the little world web-application and its services.

> For stack info check [`django-clean-state`](https://github.com/tbscode/django-clean-slate)

### Development, Documentation & Apis

The default staging server is deployed at [`s1.littleworld-test.com`](https://s1.littleworld-test.com)
For viewing documentation and apis you can loging with a test user:

by visiting:

[`https://s1.littleworld-test.com/api/user/login?token=devUserAutoLoginTokenXYZ&u=devuser@mail.com&l=email&n=/docs`](https://s1.littleworld-test.com/api/user/login?token=devUserAutoLoginTokenXYZ&u=devuser@mail.com&l=email&n=/docs)

Or you can login manually at [`https://s1.littleworld-test.com/login`](https://s1.littleworld-test.com/login)
with the default staging user `pw: Test321!`, `email: default.devuser@mail.com`.

When you logged in you can view the **Documentation** at [`https://s1.littleworld-test.com/docs`](https://s1.littleworld-test.com/docs)

###### Authors

@tbscode, tim@timschupp.de

change

      - name: Create comment
        uses: peter-evans/create-or-update-comment@v3
        if: steps.extract_branch.outputs.branch != 'main' && steps.extract_branch.outputs.SHOULD_STAGE != ''
        with:
          issue-number: 1
          body: |
            Test Comment generated by staging pull
          reactions: '+1'
      - name: Setup Emperial Env
        if: steps.extract_branch.outputs.branch != 'main' && steps.extract_branch.outputs.SHOULD_STAGE != ''
        run: |
          touch .env
          echo "APP_IMAGE_URL=\"ghcr.io/a-little-world/littleworld-epherial-backend:latest\"" >> .env
          echo "REDIS_URL=\"redis://redis-service.default.svc.cluster.local:6379\"" >> .env
      - name: Build Image
        if: steps.extract_branch.outputs.branch != 'main' && steps.extract_branch.outputs.SHOULD_STAGE != ''
        run: |
          DOCKER_BUILDKIT=1 docker-compose build
          DOCKER_BUILDKIT=1 docker-compose push
      - name: Deploy Emperial Env to cluster